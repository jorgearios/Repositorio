(()=>{var e={923:e=>{e.exports=function(e){var t,s,n,a,o,d=this;function i(){switch(_Options.position){case"bl":return"js-snackbar-container--bottom-left";case"tl":return"js-snackbar-container--top-left";case"tr":return"js-snackbar-container--top-right";case"tc":case"tm":return"js-snackbar-container--top-center";case"bc":case"bm":return"js-snackbar-container--bottom-center";default:return"js-snackbar-container--bottom-right"}}this.Open=function(){var e=function(){const e=window.getComputedStyle(o);return a.scrollHeight+parseFloat(e.getPropertyValue("padding-top"))+parseFloat(e.getPropertyValue("padding-bottom"))}();s.style.height=e+"px",s.style.opacity=1,s.style.marginTop="5px",s.style.marginBottom="5px",s.addEventListener("transitioned",(function(){s.removeEventListener("transitioned",arguments.callee),s.style.height=null}))},this.Close=function(){t&&clearInterval(t);var e=s.scrollHeight,a=s.style.transition;s.style.transition="",requestAnimationFrame((function(){s.style.height=e+"px",s.style.opacity=1,s.style.marginTop="0px",s.style.marginBottom="0px",s.style.transition=a,requestAnimationFrame((function(){s.style.height="0px",s.style.opacity=0}))})),setTimeout((function(){n.removeChild(s)}),1e3)},_Options={message:e?.message??"Operation performed successfully.",dismissible:e?.dismissible??!0,timeout:e?.timeout??5e3,status:e?.status?e.status.toLowerCase().trim():"",actions:e?.actions??[],fixed:e?.fixed??!1,position:e?.position??"br",container:e?.container??document.body,width:e?.width,speed:e?.speed,icon:e?.icon},function(){var e=a();function t(e){for(var t,n=i(),a=0;a<e.children.length;a++)if(1===(t=e.children.item(a)).nodeType&&t.classList.length>0&&t.classList.contains("js-snackbar-container")&&t.classList.contains(n))return t;return s(e)}function s(e){var t=document.createElement("div");return t.classList.add("js-snackbar-container"),_Options.fixed&&t.classList.add("js-snackbar-container--fixed"),e.appendChild(t),t}function a(){return"string"==typeof _Options.container?document.querySelector(_Options.container):_Options.container}void 0===e&&(console.warn("SnackBar: Could not find target container "+_Options.container),e=document.body),n=t(e)}(),function(){n.classList.add(i());var e="js-snackbar-container--fixed";_Options.fixed?n.classList.add(e):n.classList.remove(e)}(),s=function(){var e=s(),t=n();return e.appendChild(t),e;function s(){var e=document.createElement("div");return e.classList.add("js-snackbar__wrapper"),e.style.height="0px",e.style.opacity="0",e.style.marginTop="0px",e.style.marginBottom="0px",p(e),u(e),e}function n(){var e=document.createElement("div");return e.classList.add("js-snackbar","js-snackbar--show"),i(e),r(e),l(e),c(e),e}function i(e){if(_Options.status){var t=document.createElement("span");t.classList.add("js-snackbar__status"),s(t),n(t),e.appendChild(t)}function s(e){switch(_Options.status){case"success":case"green":e.classList.add("js-snackbar--success");break;case"warning":case"alert":case"orange":e.classList.add("js-snackbar--warning");break;case"danger":case"error":case"red":e.classList.add("js-snackbar--danger");break;default:e.classList.add("js-snackbar--info")}}function n(e){if(_Options.icon){var t=document.createElement("span");switch(t.classList.add("js-snackbar__icon"),_Options.icon){case"exclamation":case"warn":case"danger":t.innerText="!";break;case"info":case"question":case"question-mark":t.innerText="?";break;case"plus":case"add":t.innerText="+";break;default:_Options.icon.length>1&&console.warn("Invalid icon character provided: ",_Options.icon),t.innerText=_Options.icon.substr(0,1)}e.appendChild(t)}}}function r(e){(o=document.createElement("div")).classList.add("js-snackbar__message-wrapper"),(a=document.createElement("span")).classList.add("js-snackbar__message"),a.innerHTML=_Options.message,o.appendChild(a),e.appendChild(o)}function l(e){if("object"==typeof _Options.actions)for(var t=0;t<_Options.actions.length;t++)s(e,_Options.actions[t]);function s(e,t){var s=document.createElement("span");s.classList.add("js-snackbar__action"),s.textContent=t.text,"function"==typeof t.function?!0===t.dismiss?s.onclick=function(){t.function(),d.Close()}:s.onclick=t.function:s.onclick=d.Close,e.appendChild(s)}}function c(e){if(_Options.dismissible){var t=document.createElement("span");t.classList.add("js-snackbar__close"),t.innerText="×",t.onclick=d.Close,e.appendChild(t)}}function p(e){_Options.width&&(e.style.width=_Options.width)}function u(e){const{speed:t}=_Options;switch(typeof t){case"number":e.style.transitionDuration=t+"ms";break;case"string":e.style.transitionDuration=t}}}(),n.appendChild(s),!1!==_Options.timeout&&_Options.timeout>0&&(t=setTimeout(d.Close,_Options.timeout)),d.Open()}}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.jQuery,t=e=>{const t=jQuery(".superbaddons-admindashboard-modal-wrapper"),s=t.find(".superbaddons-admindashboard-modal-overlay"),n=t.find(".superbaddons-admindashboard-modal-close-button"),a=t.find(".superbaddons-admindashboard-modal-confirm-btn"),o=t.find(".superbaddons-admindashboard-modal-cancel-btn"),d=t.find(".superbaddons-admindashboard-modal-ok-btn"),i=t.find(".superbaddons-admindashboard-modal-title"),r=t.find(".superbaddons-admindashboard-modal-content"),l=t.find(".superbaddons-admindashboard-modal-header-spinner"),c=t.find(".superbaddons-admindashboard-modal-footer"),p=t.find(".superbaddons-element-separator"),u=e.title||!1,m=e.copyable||!1,b=e.content||!1,h=e.confirmCallback||!1,g=e.cancelCallback||!1,f=e.okCallback||!1,w=e.awaitConfirmCallback||!1,y=e.stopCloseOnConfirm||!1,v=e.preventClosing||!1,x=e.isLoader||!1,k=(e=!1)=>{a.off(),o.off(),n.off(),s.off(),d.off(),jQuery(window).off("keydown.superbaddons-admin-modal"),e?t.hide():t.fadeOut("fast")};return((e,u,b,h,g,f,w,v)=>{if(w?(n.off(),s.off(),jQuery(window).off("keydown.superbaddons-admin-modal"),n.hide()):(jQuery(window).on("keydown.superbaddons-admin-modal",(e=>{27==(e.keyCode||e.which)&&k()})),n.on("click",(()=>{k()})),s.on("click",(()=>{k()}))),v)return l.show(),i.hide(),c.hide(),n.hide(),p.hide(),r.text(u),void t.fadeIn("fast");if(l.hide(),c.show(),i.show(),w||n.show(),p.show(),e&&i.text(e),u)if(Array.isArray(u))r.text(""),u.map((e=>{const t=jQuery("<div class='superbaddons-admindashboard-modal-content-item'></div>"),s=jQuery("<div class='superbaddons-admindashboard-modal-content-item-title'></div>"),n=jQuery("<div class='superbaddons-admindashboard-modal-content-item-content'></div>"),a=jQuery("<img class='superbaddons-admindashboard-modal-content-item-icon' />");superbaddonssettings_g&&(a.attr("src",e.shared?superbaddonssettings_g.modal.view_logs.icon_shared:superbaddonssettings_g.modal.view_logs.icon_unshared),a.attr("title",e.shared?superbaddonssettings_g.modal.view_logs.shared_title:superbaddonssettings_g.modal.view_logs.unshared_title));const o=new Date(1e3*e.time),d=o.toLocaleDateString()+" "+o.toLocaleTimeString();s.text(d+" (v."+e.version+"): "+e.title),s.prepend(a),n.text(e.stack),t.append(s),t.append(n),r.append(t)}));else if(m){r.text("");const e=jQuery('<textarea class="superbaddons-admindashboard-modal-copyable-item" onclick="this.focus();this.select()" readonly="readonly"></textarea>'),t=jQuery('<div class="superbaddons-element-text-sm superbaddons-admindashboard-modal-copyable-explainer"></div>');t.text(m),e.text(u),r.append(e),r.append(t)}else r.text(u);b?(a.show(),o.show(),d.hide(),a.on("click",(async()=>{f?await b():b(),y||k()}))):(a.hide(),o.hide(),d.show(),d.on("click",(()=>{g&&g(),y||k()}))),h?o.on("click",(()=>{h(),k()})):o.on("click",(()=>{k()})),t.fadeIn("fast")})(u,b,h,g,f,w,v,x),k};var n=s(923),a=s.n(n);const o=(e,t)=>{d(e,t,".superbaddons-wrap-inner")},d=(e,t,s)=>{let n="error",o="danger";switch(t){case"success":n="success",o="✓";break;case"info":n="info",o="i"}a()({message:e,timeout:5e3,position:"bl",status:n,icon:o,fixed:!0,container:s})},i=async(e,t,s,n="")=>{const a={"X-WP-Nonce":t};let o=null,d=!1;n instanceof FormData?(d=!0,o=n,o.append("action",s)):(o="action="+s+n,a["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8");const i=await fetch(e,{method:"POST",credentials:"same-origin",headers:a,body:o});return 200!==i.status?{success:!1,text:"Unknown error occurred. Please contact support if the issue persists."}:i.json()},r=window.jQuery,{__:l}=wp.i18n,c=r("#superbaddons-template-next-button").data("complete-url");r("#superbaddons-template-next-button").data("complete-url","");const p=r(".superbaddons-theme-template-menu").data("wizard"),u="click.superbaddons-completion-button",m=(e,s,n)=>{r(".superbaddons-stage-selection-overview").text(""),e.forEach((e=>{if(!e.type)return;const t=r(s),a=r(t).find(".superbaddons-stage-selection-list"),o=e.selections;if(!(!o||o.length<=0||1===o.length&&"ignore"===o[0].type)&&(t.find("h2").text(e.title),a.text(""),o.forEach((s=>{const n=r("<div>",{class:"superbaddons-stage-selection-list-item superbaddons-element-text-sm"});if(n.text("radio-checkbox"===e.type?s.title:l("Template","superb-blocks")+": "+s.title),e.hasTitleInput){const t=r("<label>",{for:"superbaddons-"+s.slug+"-input",class:"superbaddons-element-label superbaddons-element-text-xs"});t.text(l("Page Title:","superb-blocks"));const a=s.customTitle?s.customTitle:e.titleInputSuggestion?e.titleInputSuggestion:s.title,o=r("<input>",{id:"superbaddons-"+s.slug+"-input",class:"superbaddons-element-input superbaddons-element-m0",type:"text",value:a,placeholder:l("Enter Page Title","superb-blocks")});o.on("change",(function(){s.customTitle=r(this).val()})),o.trigger("change"),t.append(o),n.append(t)}a.append(n),r(".superbaddons-stage-selection-overview").append(t)})),e.hasMultipleParts&&n[e.id])){const t=n[e.id],s=r("<label>",{for:"superbaddons-"+e.id+"-parts-select",class:"superbaddons-element-label superbaddons-element-text-xs",style:"display: flex; flex-direction:column; margin:0;"});s.text(l("Update Template Part:","superb-blocks"));const o=r("<select>",{id:"superbaddons-"+e.id+"-parts-select",class:"superbaddons-element-input superbaddons-element-m0",style:"margin:0;"}),d=r("<optgroup>",{label:l("Recommended","superb-blocks")}),i=r("<option>",{value:"all",text:l("All %1$s Parts (recommended)","superb-blocks").replace("%1$s",e.title)});d.append(i),o.append(d);const c=r("<optgroup>",{label:l("Specific Template Part","superb-blocks")});t.forEach((e=>{const t=r("<option>",{value:e.slug,text:e.title+" ["+e.slug+"]"});c.append(t)})),o.append(c),o.on("change",(function(){const t=r(this).val();e.selections.forEach((e=>{e.updatedTemplatePart=t}))})),o.trigger("change"),s.append(o);const p=a.find(".superbaddons-stage-selection-list-item");p.length>0?p.append(s):a.append(s)}})),r("#superbaddons-template-next-button").text(l("Complete","superb-blocks")),r("#superbaddons-template-next-button").off(u),r("#superbaddons-template-next-button").on(u,(async function(){const s=t({preventClosing:!0,isLoader:!0,content:l("Processing...","superb-blocks")}),n={};e.forEach((e=>{const t=e.selections.filter((t=>(t.isChanged=e.hasSelectionChange,"ignore"!==t.type)));n[e.id]=t}));const a=await i(superbaddonswizard_g.rest.base+superbaddonswizard_g.rest.namespace+superbaddonswizard_g.rest.routes.wizard,superbaddonswizard_g.rest.nonce,"create","&selection_data="+encodeURIComponent(JSON.stringify(n))+"&wizardType="+p);if(!a.success)return s(),void o(a.text,"error");o(l("Theme designer completed.","superb-blocks"),"success"),window.location.href=c}))},b=window.jQuery;let h="front-page";const g=window.jQuery,{__:f}=(window.jQuery,wp.i18n),w={header:!1,footer:!1},y=async e=>{if(!(e=>{const t=e.find((e=>"header-stage"===e.id)),s=e.find((e=>"footer-stage"===e.id));if(!t||!s)return!1;if(!(t.selections&&t.selections.length&&s.selections&&s.selections.length))return!1;const n=t.selections[0],a=s.selections[0];return(n.slug!==w.header||a.slug!==w.footer)&&(w.header=n.slug,w.footer=a.slug,!0)})(e))return!1;const s=t({preventClosing:!0,isLoader:!0,content:f("Loading...","superb-blocks")}),n=await i(superbaddonswizard_g.rest.base+superbaddonswizard_g.rest.namespace+superbaddonswizard_g.rest.routes.wizard,superbaddonswizard_g.rest.nonce,"headerfooterpreview","&header="+encodeURIComponent(w.header)+"&footer="+w.footer);return s(),!!n.success},v=jQuery,{__:x}=wp.i18n,{__:k}=wp.i18n,C=jQuery;const _=class{constructor(){this.blobDict={},this.stages=[],this.currentStageIndex=-1,this.previewLoading=!1,this.onStageChange=!1,this.visibilityObserver=!1,this.templateParts={},this.overviewElementTemplate=C("#superbaddons-stage-overview-item").text(),C("#superbaddons-stage-overview-item").remove(),this.init()}init(){this.initIframeData(),this.initStages(),this.renderStageSteps(),this.setStage()}initStages(){const e=document.getElementsByClassName("superbaddons-template-stage");this.stages=Array.from(e).map((e=>({title:C(e).find(".superbaddons-wizard-wrapper-small").data("stage-label")??"",element:e,id:e.dataset.stageid,type:e.dataset.type,required:"1"===e.dataset.required,hasTitleInput:"1"===e.dataset.hastitleinput,hasMultipleParts:"1"===e.dataset.hasmultipleparts,titleInputSuggestion:C(e).find(".superbaddons-wizard-wrapper-small").data("title-input-suggestion")??"",defaultSelection:!1,hasSelectionChange:!1}))),C(".superbaddons-wizard-heading-number").each(((e,t)=>{const s=e+1;C(t).text(s+".")})),C("#superbaddons-template-next-button").on("click",(()=>{this.currentStageIndex!==this.stages.length-1&&this.setStage(this.currentStageIndex+1)})),C("#superbaddons-template-cancel-button").on("click",(e=>{this.currentStageIndex>0&&(e.preventDefault(),this.setStage(this.currentStageIndex-1))}))}renderStageSteps(){if(0===this.stages.length||"theme-stage"===this.stages[0].id)return;const e=this,t=C("#superbaddons-theme-template-step").text();C("#superbaddons-theme-template-step").remove();const s=this.stages.map(((s,n)=>{const a=C(t);return a.on("click",(function(){e.setStage(n)})),a}));C(".superbaddons-theme-template-steps").append(s)}setStage(e=0){if(!(e<0||e>=this.stages.length||this.currentStageIndex>=0&&!this.stages[this.currentStageIndex].completed&&e>this.currentStageIndex)){if(e>0)for(let t=0;t<e;t++)if(!this.stages[t].completed)return;e>0?C("#superbaddons-template-cancel-button").text(k("Back","superb-blocks")):C("#superbaddons-template-cancel-button").text(k("Cancel","superb-blocks")),C("#superbaddons-template-next-button").text(k("Continue","superb-blocks")),r("#superbaddons-template-next-button").off(u),this.currentStageIndex=e,C(".superbaddons-theme-template-step").removeClass("superbaddons-theme-template-step-selected"),C(".superbaddons-theme-template-step").eq(e).addClass("superbaddons-theme-template-step-selected"),this.displayStage()}}async displayStage(){const s=this.stages[this.currentStageIndex];if(!s)return;this.onStageChange&&(await this.onStageChange(),this.onStageChange=!1);const n=this;if("header-stage"!==s.id&&"footer-stage"!==s.id||(this.onStageChange=async()=>{await y(n.stages)&&n.resetLoadStatus()},this.templateParts[s.id]=[],C(s.element).find(".superbaddons-theme-page-template-part").each(((e,t)=>{"wp_template_part"===t.dataset.type&&n.templateParts[s.id].push({title:t.dataset.title,slug:t.dataset.slug})}))),"blog-page-stage"===s.id&&((t,s)=>{const n=t.find((e=>"front-page-stage"===e.id));n&&("blog"===n.selections[0].type?(e(s.element).find(".superbaddons-theme-page-template").removeClass("superbaddons-theme-page-template-selected"),e(s.element).find(".superbaddons-theme-page-template[data-type='ignore']").addClass("superbaddons-theme-page-template-selected superbaddons-theme-page-template-locked")):e(s.element).find(".superbaddons-theme-page-template").removeClass("superbaddons-theme-page-template-locked"))})(this.stages,s),"completion-stage"===s.id&&m(this.stages,this.overviewElementTemplate,this.templateParts),this.stages.forEach((e=>{e.element.style.display="none"})),s.element.style.display="block",this.loadStageTemplatePreviews(s),this.enableScrollingContainersAnimation(s),"radio-checkbox"===s.type)C(s.element).find(".superbaddons-inputcheckbox-input").off(),C(s.element).find(".superbaddons-inputcheckbox-input").on("click",(function(){C(".superbaddons-inputcheckbox-input").prop("checked",!1),C(this).prop("checked",!0),n.checkStageCompletion(s)}));else{C(s.element).find(".superbaddons-theme-page-template").removeClass("superbaddons-theme-page-template-unavailable");C(s.element).find(".superbaddons-theme-page-template.superbaddons-theme-page-template-locked").length>0&&C(s.element).find(".superbaddons-theme-page-template").each(((e,t)=>{C(t).hasClass("superbaddons-theme-page-template-locked")||C(t).addClass("superbaddons-theme-page-template-unavailable")})),C(s.element).find(".superbaddons-theme-page-template").off(),C(s.element).find(".superbaddons-theme-page-template").on("click",(function(){var e,a;C(this).hasClass("superbaddons-theme-page-template-unavailable")||C(this).hasClass("superbaddons-theme-page-template-unavailable-premium")||("single-selection"===s.type&&C(s.element).find(".superbaddons-theme-page-template-selected").removeClass("superbaddons-theme-page-template-selected"),C(this).toggleClass("superbaddons-theme-page-template-selected"),C(this).hasClass("superbaddons-theme-page-template-locked")?"single-selection"===s.type&&(n.checkStageCompletion(s),n.setStage(n.currentStageIndex+1)):("theme-stage"===s.id&&(e=C(this).data("title"),a=C(this).data("slug"),v("#superbaddons-selected-theme-name").text(e),v(".superbaddons-theme-template-menu").slideDown(),v("#superbaddons-theme-install-button").off(),v("#superbaddons-theme-install-button").on("click",(async()=>{const e=t({preventClosing:!0,isLoader:!0,content:x("Installing Theme...","superb-blocks")}),s=await i(superbaddonswizard_g.rest.base+superbaddonswizard_g.rest.namespace+superbaddonswizard_g.rest.routes.wizard,superbaddonswizard_g.rest.nonce,"switchtheme","&theme="+a);if(!s.success)return e(),void o(s.text,"error");t({preventClosing:!0,isLoader:!0,content:x("Starting...","superb-blocks")}),o(x("Theme has been installed.","superb-blocks"),"success"),location.reload()}))),n.checkStageCompletion(s)))})),C(s.element).find(".superbaddons-theme-page-template-update-required, .superbaddons-theme-page-template-external-plugin-required").off(),C(s.element).find(".superbaddons-theme-page-template-update-required, .superbaddons-theme-page-template-external-plugin-required").addClass("superbaddons-theme-page-template-unavailable")}"navigation-menu-stage"===s.id&&((e,t)=>{const s=e.find((e=>"header-stage"===e.id));if(!s)return;const n=g(t.element).find("#superbaddons-navigation-block-warning");n.length<=0||("superb_pattern"===s.selections[0].type||"false"==s.selections[0].navigationIssue?(n.hide(),g(t.element).find("#superbaddons-create-new-menu").prop("disabled",!1),g(t.element).find("#superbaddons-create-new-menu").parent().removeClass("superb-addons-checkbox-input-wrapper-disabled"),g(t.element).find("#superbaddons-append-existing-menu").prop("disabled",!1),g(t.element).find("#superbaddons-append-existing-menu").parent().removeClass("superb-addons-checkbox-input-wrapper-disabled")):(n.show(),g(t.element).find("#superbaddons-skip-menu").trigger("click"),g(t.element).find("#superbaddons-create-new-menu").prop("disabled",!0),g(t.element).find("#superbaddons-create-new-menu").parent().addClass("superb-addons-checkbox-input-wrapper-disabled"),g(t.element).find("#superbaddons-append-existing-menu").prop("disabled",!0),g(t.element).find("#superbaddons-append-existing-menu").parent().addClass("superb-addons-checkbox-input-wrapper-disabled")))})(this.stages,s),s.defaultSelection||("radio-checkbox"===s.type?s.defaultSelection=C(s.element).find(".superbaddons-inputcheckbox-input:checked").data("slug"):s.defaultSelection=C(s.element).find(".superbaddons-theme-page-template-selected").data("slug")),this.checkStageCompletion(s),C("html, body").animate({scrollTop:0},"slow")}initIframeData(){document.querySelectorAll(".superbaddons-template-preview-content").forEach((e=>{C(e).data("src",e.dataset.src),e.removeAttribute("data-src")}))}async loadPreviewBlob(e){let t=e.src;if(this.blobDict[e.dataset.id]&&t!=this.blobDict[e.dataset.id])t=this.blobDict[e.dataset.id];else{const s=C(e).data("src"),n=await fetch(s);n.ok||console.error("Failed to load template preview");const a=await n.text(),o=new Blob([a],{type:"text/html"});t=URL.createObjectURL(o),this.blobDict[e.dataset.id]=t}return e.src=t,!0}loadStageTemplatePreviews(e){const t=e.element.querySelectorAll(".superbaddons-theme-page-template");this.visibilityObserver&&this.visibilityObserver.disconnect(),this.visibilityObserver=((e,t,s={})=>{const n={root:null,rootMargin:"0px",threshold:.1,...s},a=new IntersectionObserver((function(e,s){e.forEach((e=>{e.isIntersecting&&(t(e.target),s.unobserve(e.target))}))}),n);return e.forEach((e=>{a.observe(e)})),a})(t,(async e=>{const t=e.querySelector(".superbaddons-template-preview-content"),s=e.querySelector(".superbaddons-preview-spinner-container");if(!t||!s)return;const n="loaded"===t.dataset.status,a=n&&"noreload"===t.dataset.noreload;if(n||a)return t.style.display="",t.style.opacity="",void(t.style.height=t.contentWindow.document.body.scrollHeight<=0?"100%":`${t.contentWindow.document.body.scrollHeight}px`);s.style.display="flex";const o=t.cloneNode(!1);C(o).data("src",C(t).data("src"));const d=t.parentNode;t.remove(),o.style.opacity=0,o.addEventListener("load",(async()=>{if(0!==o.src.indexOf("blob:"))return;o.contentWindow.document.querySelectorAll('[style*="vh"]').forEach((e=>{e.style.cssText=e.style.cssText.replace(/(\d+(?:\.\d+)?)vh/g,((e,t)=>{const s=parseFloat(window.innerHeight);return parseFloat(t)*s/100+"px"}))}));const e=o.contentWindow.document.querySelectorAll("img");if(e.length>0){const t=Array.from(e).map((e=>e.complete?Promise.resolve():new Promise((t=>{e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))));await Promise.all(t)}o.style.opacity="",o.dataset.status="loaded",s.style.display="none",o.style.height=o.contentWindow.document.body.scrollHeight<=0?"100%":`${o.contentWindow.document.body.scrollHeight}px`})),await this.loadPreviewBlob(o),d.appendChild(o),o.style.display=""}))}enableScrollingContainersAnimation(e){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return!1;const t=e.element.querySelectorAll(".superbaddons-template-content-wrapper"),s="spb-scroll-animation-restart-timeout";function n(e,t){const a=t[0].scrollHeight-t.height(),o="down"===e?a:0,d=Math.min(15e3,Math.max(5e3,10*a));t.animate({scrollTop:o},d,"swing",(()=>{e="down"===e?"up":"down",t.data(s)&&clearTimeout(t.data(s)),t.data(s,setTimeout((()=>{n(e,t)}),500))}))}t.forEach((e=>{const t=C(e);t.off("mouseenter mouseleave"),t.on("mouseenter",(()=>{const s=C(e).find(".superbaddons-template-preview-content");s.length&&"loaded"===s[0].dataset.status&&n("down",t)})),t.on("mouseleave",(()=>{t.stop(!0,!1),t.data(s)&&clearTimeout(t.data(s)),t.scrollTop(0)}))}))}resetLoadStatus(){this.stages.forEach((e=>{e.element.querySelectorAll(".superbaddons-theme-page-template").forEach((e=>{const t=e.querySelector(".superbaddons-template-preview-content");t&&"loaded"===t.dataset.status&&"noreload"!==t.dataset.noreload&&(t.dataset.status="loading")}))}))}checkStageCompletion(e){let t=[];"radio-checkbox"===e.type?(t=C(e.element).find(".superbaddons-inputcheckbox-input:checked"),e.selections=Array.from(t).map((e=>({title:e.dataset.action,slug:e.name})))):(t=C(e.element).find(".superbaddons-theme-page-template-selected"),e.selections=Array.from(t).map((e=>e.dataset))),e.hasSelectionChange=1===e.selections.length&&e.selections[0].slug!==e.defaultSelection,e.hasSelectionChange=e.hasSelectionChange?1:0,e.completed=!e.required||t.length>0,C("#superbaddons-template-next-button").prop("disabled",!e.completed),C(".superbaddons-theme-template-step").eq(this.currentStageIndex).toggleClass("superbaddons-theme-template-step-completed",e.completed),"front-page-stage"===e.id&&((e,t)=>{if(t.selections[0].type!==h){h=t.selections[0].type;const s=e.find((e=>"blog-page-stage"===e.id));if(!s)return;s.completed=!1,b(".superbaddons-theme-template-step").eq(e.indexOf(s)).removeClass("superbaddons-theme-template-step-completed")}})(this.stages,e)}};jQuery(document).ready((function(e){if(!("IntersectionObserver"in window))return console.error("Error: Your browser does not support IntersectionObserver. Please update your browser."),e(".superbaddons-template-stage").remove(),e(".superbaddons-theme-template-menu").remove(),void e("#superbaddons-browser-outdated-warning").show();e("body").addClass("folded"),e("#superbaddons-browser-outdated-warning").remove(),new _,(()=>{const e=document.getElementById("adminmenuwrap"),t="superbaddons-wizard-menu-dynamic-css",s=e=>{const s=document.getElementById(t),n=`@media (min-width: 1300px) { .superbaddons-theme-template-menu-inner { margin-left: ${e}px; } }`;if(s)return void(s.textContent=n);const a=document.createElement("style");a.id=t,a.textContent=n,document.body.appendChild(a)};new ResizeObserver((e=>{for(let t of e){const e=t.contentRect.width;s(e)}})).observe(e),s(e.getBoundingClientRect().width)})()}))})()})();