import{J as r,s as u,m as b,M as C,x as W,v as ge,bQ as ye,cs as he,a9 as j,a4 as xe,b as e,c as f,e as N,ai as J,i as p,F as P,w as g,p as y,q as Q,af as ke,j as x,ak as Se,l as V,K as we,n as k,o as c,a as n,r as Ce,B as R,t as D,ac as E}from"./stepForm.8ce50639.js";import{d as Te,e as Fe}from"./customerPanel.76a4e171.js";import{e as Le,f as Be,g as Ie,h as ze,i as $e,j as Ne,k as De}from"./Events.b568ec70.js";import{u as S}from"./useReactiveCustomize.e62244c3.js";import"./eventListForm.daec9afe.js";import"./catalogForm.8cf457f0.js";const Ee={class:"am-fs-sb__page-wrapper"},Ae={class:"am-fs-sb__page-icon"},Me=n("span",{class:"am-icon-arrow-big-right"},null,-1),We=[Me],je={key:0,class:"am-fs-sb__page-divider"},Pe={class:"am-fs-sb__page-inner"},Ve=n("div",{class:"am-fs-sb__page-icon"},[n("span",{class:"am-icon-dashboard"})],-1),Re=n("div",{class:"am-fs-sb__page-divider"},null,-1),qe={class:"am-fs-sb__page"},Ue={class:"am-fs-sb__page-inner"},He=n("div",{class:"am-fs-sb__page-icon"},[n("span",{class:"am-icon-logout"})],-1),Oe={class:"am-caph"},Ke={class:"am-caph__text"},Je=n("span",{class:"am-icon-menu"},null,-1),Qe=[Je],Ze={name:"CustomerPanel"},la=Object.assign(Ze,{setup(Ge){let Z=V("settings"),G=S().features;r("features",G);let B=S().stepIndex;r("stepIndex",B);let T=S().pagesType;r("pagesType",T);const q=V("labels");let I=S().langKey;r("langKey",I);let _=S().stepName;r("stepName",_);let X=S().subStepName;r("subStepName",X);let m=u("cape");r("pageRenderKey",m);const{amCustomize:i}=S();r("customize",i);let U=b(()=>i.value.fonts);r("amFonts",U);let Y=u("customer");r("cabinetType",Y);let ee=C(Le),ae=C(Be),te=C(Ie),se=C(ze),le=u([ee,ae,te,se]),oe=C($e),ne=C(Ne),ie=u([oe,ne]),H=b(()=>T.value==="auth"?le.value:ie.value),v=u(null),O=u(!1);W(()=>{window.customizeComponentLoaded=!0,typeof window.stylesInjectedV3=="function"&&window.v3.componentToMount==="CustomizeEmployeePanel"&&(window.stylesInjectedV3=()=>{ge().then(()=>{O.value=!0})})}),ye(()=>{window.customizeComponentLoaded=!1,window.stylesInjectedV3=async function(){}});let A=u();r("containerWidth",A);let d=u(!1);function re(){d.value=!1}let l=u(!1);r("sidebarCollapsed",he(l));let w=u("");j(()=>{l.value?setTimeout(()=>{w.value="am-collapsed"},1e3):w.value=""});let F=b(()=>i.value.cape.sidebar.options.toggle.visibility);j(()=>{l.value=F.value});let M=u(null),K=u(0),h=u(!0);W(()=>{M.value&&setTimeout(()=>{K.value=M.value.offsetHeight},200),v.value&&(A.value=v.value.offsetWidth,l.value=F.value?F.value:v.value.offsetWidth<=600,h.value=v.value.offsetWidth>480)}),window.addEventListener("resize",ue);function ue(){v.value&&(A.value=v.value.offsetWidth,l.value=F.value?F.value:v.value.offsetWidth<=600,h.value=v.value.offsetWidth>480,d.value=v.value.offsetWidth>481?!1:d.value)}const ce=V("baseUrls"),L=b(()=>[{key:"profile",icon:"user",pageLabel:q.my_profile,label:"John Doe"},{key:"appointments",icon:"service",label:z("appointments","appointments")},{key:"events",icon:"star-outline",label:z("events","events")}]);r("sidebarSteps",L);let me=u(0);W(()=>{me.value=L.value.findIndex(s=>s.key===_.value)}),j(()=>{i.value.fonts.customFontSelected?de():pe()});function de(){let s=document.head||document.getElementsByTagName("head")[0];s.querySelector("#amCustomFont")&&s.querySelector("#amCustomFont").remove(),s.querySelector("#amDefaultFontImport")&&s.querySelector("#amDefaultFontImport").remove();let o=`@font-face {font-family: '${i.value.fonts.fontFamily}'; src: url(${i.value.fonts.fontUrl});}`,t=document.createElement("style");s.appendChild(t),t.setAttribute("type","text/css"),t.setAttribute("id","amCustomFont"),t.appendChild(document.createTextNode(o))}function pe(){const s=document.head||document.getElementsByTagName("head")[0];if(s.querySelector("#amDefaultFontImport"))return;const o=ce.value.wpAmeliaPluginURL,t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id","amDefaultFontImport"),t.textContent=`@import url("${o}v3/src/assets/scss/common/fonts/font.css");`,s.appendChild(t)}xe(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})});function z(s,o){return b(()=>i.value[m.value][o].translations&&i.value[m.value][o].translations[s]&&i.value[m.value][o].translations[s][I.value]?i.value[m.value][o].translations[s][I.value]:q[s]).value}function ve(s){let o={},t=s?i.value[m.value][s].translations:null;return t&&Object.keys(t)?Object.keys(i.value[m.value][s].translations).forEach($=>{o[$]=i.value[m.value][s].translations[$][I.value]}):o={},o}let fe=b(()=>_.value==="packageAppointmentsList"?i.value[m.value].packagesList.options:i.value[m.value][_.value].options),a=b(()=>i.value[m.value]?i.value[m.value].colors:we[m.value].colors);r("amColors",a);let _e=b(()=>({"--am-c-primary":a.value.colorPrimary,"--am-c-success":a.value.colorSuccess,"--am-c-error":a.value.colorError,"--am-c-warning":a.value.colorWarning,"--am-c-main-bgr":a.value.colorMainBgr,"--am-c-main-heading-text":a.value.colorMainHeadingText,"--am-c-main-text":a.value.colorMainText,"--am-c-sb-bgr":a.value.colorSbBgr,"--am-c-sb-text":a.value.colorSbText,"--am-c-inp-bgr":a.value.colorInpBgr,"--am-c-inp-border":a.value.colorInpBorder,"--am-c-inp-text":a.value.colorInpText,"--am-c-inp-placeholder":a.value.colorInpPlaceHolder,"--am-c-drop-bgr":a.value.colorDropBgr,"--am-c-drop-text":a.value.colorDropText,"--am-c-btn-prim":a.value.colorBtnPrim,"--am-c-btn-prim-text":a.value.colorBtnPrimText,"--am-c-btn-sec":a.value.colorBtnSec,"--am-c-btn-sec-text":a.value.colorBtnSecText,"--am-c-skeleton-op20":k(a.value.colorMainText,.2),"--am-c-skeleton-op60":k(a.value.colorMainText,.6),"--am-c-skeleton-sb-op20":k(a.value.colorSbText,.2),"--am-c-skeleton-sb-op60":k(a.value.colorSbText,.6),"--am-font-family":U.value.fontFamily,"--am-rad-inp":"6px","--am-fs-inp":"15px","--am-mw-main":h.value?l.value?"858px":"1024px":"520px","--am-brad-main":h.value?"0 0.5rem 0.5rem 0":"0.5rem"})),be=b(()=>({"--am-c-msd-bgr":a.value.colorSbBgr,"--am-c-msd-text":a.value.colorSbText,"--am-c-msd-text-op05":k(a.value.colorSbText,.05),"--am-c-msd-text-op10":k(a.value.colorSbText,.1),"--am-c-msd-text-op60":k(a.value.colorSbText,.6)}));return(s,o)=>e(O)?(c(),f("div",{key:0,id:"amelia-container",ref_key:"ameliaContainer",ref:v,class:y(["am-cap__wrapper",[{"am-collapsed":e(l)},{"am-auth":e(T)==="auth"}]]),style:Q(e(_e))},[e(T)==="auth"?(c(),N(J(e(H)[e(B)]),{key:0})):p("",!0),e(T)==="panel"?(c(),f(P,{key:1},[e(h)?(c(),N(ke,{key:0,class:y(["am-fs-sb",{"am-collapsed":e(l)}]),style:Q({width:e(l)?"72px":"240px",paddingBottom:`${e(K)+16}px`})},{"step-list":g(()=>[n("div",Ee,[(c(!0),f(P,null,Ce(e(L),(t,$)=>(c(),f(P,{key:t.key},[n("div",{class:y(["am-fs-sb__page",[{selected:e(_)===t.key},{selected:(e(_)==="packagesList"||e(_)==="packageAppointmentsList")&&t.key==="packages"}]])},[n("div",{class:y(["am-fs-sb__page-inner",{"am-collapsed":e(l)}])},[n("div",Ae,[n("span",{class:y(`am-icon-${t.icon}`)},null,2)]),x(E,{name:"fade"},{default:g(()=>[e(l)?p("",!0):(c(),f("p",{key:0,class:y(["am-fs-sb__page-heading",e(w)])},D(t.label),3))]),_:2},1024),x(E,{name:"fade"},{default:g(()=>[e(l)?p("",!0):(c(),f("div",{key:0,class:y(["am-fs-sb__page-indicator",e(w)])},We,2))]),_:1})],2)],2),$===0?(c(),f("div",je)):p("",!0)],64))),128))])]),"support-info":g(()=>[n("div",{ref_key:"sidebarFooterRef",ref:M,class:"am-fs-sb__footer"},[n("div",{class:"am-fs-sb__page",onClick:o[0]||(o[0]=t=>R(l)?l.value=!e(l):l=!e(l))},[n("div",Pe,[Ve,x(E,{name:"fade"},{default:g(()=>[e(l)?p("",!0):(c(),f("p",{key:0,class:y(["am-fs-sb__page-heading",e(w)])},D(z("toggle_sidebar","sidebar")),3))]),_:1})])]),Re,n("div",qe,[n("div",Ue,[He,x(E,{name:"fade"},{default:g(()=>[e(l)?p("",!0):(c(),f("p",{key:0,class:y(["am-fs-sb__page-heading",e(w)])},D(z("log_out","sidebar")),3))]),_:1})])])],512)]),_:1},8,["class","style"])):p("",!0),x(Se,{"max-width":786,"old-responsive":!1},{header:g(()=>[x(Te,null,{default:g(()=>[n("div",Oe,[n("div",Ke,D(e(L)[e(B)+1].label),1),e(h)?p("",!0):(c(),f("div",{key:0,class:"am-cap__menu",onClick:o[1]||(o[1]=()=>R(d)?d.value=!e(d):d=!e(d))},Qe)),e(Z).featuresIntegrations.timezones.enabled&&e(h)&&e(_)!=="profile"&&e(fe).timeZone.visibility?(c(),N(De,{key:1})):p("",!0),x(Fe,{"menu-items":e(L),monitor:e(_),visibility:e(d),"custom-css":e(be),width:240,"customized-labels":ve("sidebar"),position:"right","onUpdate:visibility":o[2]||(o[2]=t=>R(d)?d.value=t:d=t),onLogout:re},null,8,["menu-items","monitor","visibility","custom-css","customized-labels"])])]),_:1})]),step:g(()=>[(c(),N(J(e(H)[e(B)]),{class:"am-fs__main-content"}))]),_:1})],64)):p("",!0)],6)):p("",!0)}});export{la as default};
