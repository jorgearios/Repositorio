import{l as d,m as k,n as B,o as s,e as Q,w as y,a,j as C,f as le,t as p,b as e,h as _e,_ as De,q as X,ba as Ee,s as c,L as Le,x as me,v as we,b2 as Ie,J as j,bj as Ve,b8 as Ne,b9 as Me,c as f,bk as je,i as M,p as z,F as J,r as fe,B as ve,bm as $e,ai as he,d as Ae,cW as Pe,b7 as Se,aW as xe,c4 as Oe,aD as Re,c3 as We,M as te,bQ as qe,cs as Ue,a9 as Ce,a4 as Te,af as Ke,ak as Je,K as He,ac as ye}from"./stepForm.8ce50639.js";import{_ as Qe,d as Ge,e as Ze}from"./customerPanel.76a4e171.js";import{_ as Xe,a as ea,b as aa,c as ta,d as sa,e as la,f as oa,g as na,h as ia,i as ra,j as ca,k as ua}from"./Events.b568ec70.js";import{f as de,m as se}from"./eventListForm.daec9afe.js";import{u as Z}from"./useReactiveCustomize.e62244c3.js";import"./catalogForm.8cf457f0.js";const pa={class:"am-csd__inner"},da={class:"am-csd__header"},ma={class:"am-csd__header-text"},_a={class:"am-csd__content"},va={class:"am-csd__footer"},fa={name:"DeleteProfile"},ba=Object.assign(fa,{props:{visibility:{type:Boolean,required:!0},customizedLabels:{type:Object,default:()=>({})},customizedOptions:{type:Object,default:()=>({})}},emits:["close","deleteProfile"],setup(oe,{emit:m}){const w=oe;let $=d("containerWidth");const P=d("labels");function A(b){return Object.keys(w.customizedLabels).length&&w.customizedLabels[b]?w.customizedLabels[b]:P[b]}let W=d("amFonts"),r=d("amColors"),E=k(()=>({"--am-c-csd-text":r.value.colorMainText,"--am-c-csd-bgr":r.value.colorMainBgr,"--am-c-csd-text-op10":B(r.value.colorMainText,.1),"--am-font-family":W.value.fontFamily}));return(b,i)=>(s(),Q(Ee,{visibility:e(w).visibility,"custom-class":"am-csd am-csd__cancel",style:X(e(E)),position:"center"},{footer:y(()=>[a("div",va,[C(_e,{category:"secondary",size:e($)<=360?"small":"default",type:e(w).customizedOptions.closeBtn.buttonType,onClick:i[1]||(i[1]=()=>{m("close")})},{default:y(()=>[le(p(A("close")),1)]),_:1},8,["size","type"]),C(_e,{category:"danger",size:e($)<=360?"small":"default",type:e(w).customizedOptions.confirmBtn.buttonType,"loading-icon":"loading",onClick:i[2]||(i[2]=()=>{m("deleteProfile")})},{default:y(()=>[le(p(A("delete")),1)]),_:1},8,["size","type"])])]),default:y(()=>[a("div",pa,[a("div",da,[a("div",ma,p(A("delete_profile")),1),a("div",{class:"am-csd__header-btn",onClick:i[0]||(i[0]=()=>{m("close")})},[C(De,{icon:"close"})])]),a("div",_a,[a("p",null,p(A("delete_profile_description")),1)])])]),_:1},8,["visibility","style"]))}});const ga={class:"am-capi__inner"},ya=a("span",{class:"am-icon-checkmark-circle-full"},null,-1),ha={name:"CabinetProfile",key:"profile"},ka=Object.assign(ha,{setup(oe){const{amCustomize:m}=Z();let w=c(null),$=c(0),P=d("sidebarCollapsed");window.addEventListener("resize",A);function A(){w.value&&($.value=w.value.offsetWidth)}Le(P,x=>{x?setTimeout(()=>{W()},1500):setTimeout(()=>{W()},500)});function W(){$.value=w.value.offsetWidth}me(()=>{we(()=>{$.value=w.value.offsetWidth})});let r=k(()=>Ie($.value));const E=d("settings");let b=d("langKey"),i=d("labels"),_=d("stepName"),ce=d("subStepName"),l=d("pageRenderKey");function o(x){return k(()=>m.value[l.value][_.value].translations&&m.value[l.value][_.value].translations[x]&&m.value[l.value][_.value].translations[x][b.value]?m.value[l.value][_.value].translations[x][b.value]:i[x]).value}function L(x){let ae={},pe=x?m.value[l.value][x].translations:null;return pe&&Object.keys(pe)?Object.keys(m.value[l.value][x].translations).forEach(U=>{ae[U]=m.value[l.value][x].translations[U][b.value]}):ae={},ae}let F=c("first"),T=c(""),S=c(!1);function g(){S.value=!1,T.value=""}let q=c(null),K=c({firstName:"",lastName:"",email:"",phone:"",birthday:""}),v=k(()=>({firstName:{template:de.text,props:{itemName:"firstName",label:o("first_name_colon"),placeholder:o("enter_first_name"),class:`am-capi__item ${r.value}`}},lastName:{template:de.text,props:{itemName:"lastName",label:o("last_name_colon"),placeholder:o("enter_last_name"),class:`am-capi__item ${r.value}`}},email:{template:de.text,props:{itemName:"email",label:o("email_colon"),placeholder:o("enter_email"),class:`am-capi__item ${r.value}`}},phone:{countryPhoneIso:"US",template:de.phone,props:{itemName:"phone",label:o("phone_colon"),placeholder:o("enter_phone"),defaultCode:E.general.phoneDefaultCountryCode==="auto"?"us":E.general.phoneDefaultCountryCode.toLowerCase(),phoneError:!1,whatsAppLabel:o("whatsapp_opt_in_text"),isWhatsApp:E.notifications.whatsAppEnabled&&E.notifications.whatsAppAccessToken&&E.notifications.whatsAppBusinessID&&E.notifications.whatsAppPhoneID,class:`am-capi__item ${r.value}`}},birthday:{template:de.datepicker,props:{itemName:"birthday",label:o("date_of_birth"),placeholder:o("enter_date_of_birth"),clearable:!0,readonly:!1,class:`am-capi__item ${r.value}`}}})),H=k(()=>({firstName:[{required:!0,message:o("enter_first_name_warning"),trigger:"submit"}],lastName:[{required:m.value[l.value][_.value].options.lastName.required,message:o("enter_last_name_warning"),trigger:"submit"}],email:[{required:m.value[l.value][_.value].options.email.required,type:"email",message:o("enter_valid_email_warning"),trigger:"submit"}],phone:[{required:m.value[l.value][_.value].options.phone.required,message:o("enter_phone_warning"),trigger:"submit"}],birthday:[{required:m.value[l.value][_.value].options.birthday.required,message:o("enter_date_of_birth_warning"),trigger:"submit"}]})),ee=c(!1);j("deleteProfileDialog",ee);function R(){q.value.validate(x=>{if(x)T.value=o("profile_data_success"),S.value=!0;else return!1})}j("saveProfileChanges",R);let G=k(()=>ce.value==="deleteProfile"),ne=c(null),t=c({newPass:"",confirmPass:""}),V=k(()=>({newPass:{template:de.text,props:{itemName:"newPass",itemType:"password",showPassword:!0,label:o("new_password_colon"),placeholder:"",minLength:3,class:`am-capp__item ${r.value}`}},confirmPass:{template:de.text,props:{itemName:"confirmPass",itemType:"password",showPassword:!0,label:o("new_password_colon_retype"),placeholder:"",minLength:3,class:`am-capp__item ${r.value}`}}})),n=k(()=>({newPass:[{required:!0,message:o("new_password_required"),trigger:"submit"},{min:4,message:o("new_password_length"),trigger:"submit"}],confirmPass:[{required:!0,message:o("new_password_required"),trigger:"submit"},{min:4,message:o("new_password_length"),trigger:"submit"},{validator:()=>t.value.newPass===t.value.confirmPass,message:o("passwords_not_match"),trigger:"submit"}]}));function O(){S.value=!1}function N(){ne.value.validate(x=>{if(x)T.value=o("password_success"),S.value=!0;else return!1})}j("changeProfilePassword",N);let ue=d("amColors"),be=k(()=>({"--am-c-capi-primary":ue.value.colorPrimary,"--am-c-capi-text":ue.value.colorMainText,"--am-c-capi-text-op10":B(ue.value.colorMainText,.1)}));return(x,ae)=>{const pe=Ve,U=Ne,ke=Me;return s(),f("div",{ref_key:"pageContainer",ref:w,class:"am-capi",style:X(e(be))},[a("div",ga,[e(S)?(s(),Q(je,{key:0,type:"success","show-border":!0,"close-after":5e3,"custom-class":"am-capi__alert",onTriggerClose:g},{title:y(()=>[ya,le(" "+p(e(T)),1)]),_:1})):M("",!0),C(ke,{modelValue:e(F),"onUpdate:modelValue":ae[0]||(ae[0]=Y=>ve(F)?F.value=Y:F=Y),class:"am-capi__tabs",onTabClick:O},{default:y(()=>[C(U,{class:"am-capi__tabs-item",label:o("personal_info"),name:"first"},{default:y(()=>[C(pe,{ref_key:"infoFormRef",ref:q,model:e(K),rules:e(H),"label-position":"top",class:z(["am-capi__form",e(r)])},{default:y(()=>[(s(!0),f(J,null,fe(e(m).capc.profile.order,Y=>(s(),f(J,{key:Y.id},[!e(m)[e(l)].profile.options[Y.id]||e(m)[e(l)].profile.options[Y.id].visibility?(s(),Q(he(e(v)[Y.id].template),$e({key:0,ref_for:!0,ref:"customerCollectorRef",modelValue:e(K)[Y.id],"onUpdate:modelValue":ie=>e(K)[Y.id]=ie,countryPhoneIso:e(v)[Y.id].countryPhoneIso,"onUpdate:countryPhoneIso":ie=>e(v)[Y.id].countryPhoneIso=ie},e(v)[Y.id].props),null,16,["modelValue","onUpdate:modelValue","countryPhoneIso","onUpdate:countryPhoneIso"])):M("",!0)],64))),128))]),_:1},8,["model","rules","class"])]),_:1},8,["label"]),C(U,{class:"am-capi__tabs-item",label:o("password_tab"),name:"second"},{default:y(()=>[C(pe,{ref_key:"passFormRef",ref:ne,model:e(t),rules:e(n),"label-position":"top",class:z(["am-capi__form",e(r)])},{default:y(()=>[(s(!0),f(J,null,fe(e(V),(Y,ie)=>(s(),Q(he(Y.template),$e({key:Y.props.itemName,ref_for:!0,ref:"customerPassCollectorRef",modelValue:e(t)[ie],"onUpdate:modelValue":re=>e(t)[ie]=re},Y.props),null,16,["modelValue","onUpdate:modelValue"]))),128))]),_:1},8,["model","rules","class"])]),_:1},8,["label"])]),_:1},8,["modelValue"]),C(ba,{visibility:e(G),"customized-labels":L("deleteProfile"),"customized-options":e(m).capc.deleteProfile.options},null,8,["visibility","customized-labels","customized-options"]),C(Qe,{display:e(F),"customized-labels":L("profile"),"delete-footer-type":e(m).capc.profile.options.deleteFooterButton.buttonType,"save-footer-button":e(m).capc.profile.options.saveFooterButton.buttonType,"pass-footer-button":e(m).capc.profile.options.passFooterButton.buttonType},null,8,["display","customized-labels","delete-footer-type","save-footer-button","pass-footer-button"])])],4)}}});const xa={class:"am-cappa__back"},Ca={class:"am-cappa__heading-left"},wa={class:"am-cappa__info"},$a={class:"am-cappa__name"},Pa={class:"am-cappa__date"},Ta={class:"am-cappa__capacity"},Da={class:"am-cappa__service-heading"},La={class:"am-cappa__service-right"},Ia={class:"am-cappa__service-info"},Na={class:"am-cappa__service-name"},Ma={key:0,class:"am-cappa__service-capacity"},Sa={name:"CabinetPackageAppointmentsList",key:"packageAppointmentsList"},za=Object.assign(Sa,{setup(oe){const m=d("baseUrls");let w=c(null),$=c(0),P=d("sidebarCollapsed");window.addEventListener("resize",A);function A(){w.value&&($.value=w.value.offsetWidth)}Le(P,t=>{t?setTimeout(()=>{W()},1500):setTimeout(()=>{W()},500)});function W(){$.value=w.value.offsetWidth}me(()=>{we(()=>{$.value=w.value.offsetWidth})});let r=k(()=>Ie($.value)),E={color:"#1A84EE",name:"Package Name",count:6,total:15},b=[{id:1,name:"Entrepreneurial and private clients",color:"#774DFB",count:2,total:5,pictureThumbPath:"",employeeId:1},{id:2,name:"Family business services",color:"#774DFB",count:2,total:5,pictureThumbPath:"",employeeId:1},{id:3,name:"Sustainability and climate change",color:"#774DFB",count:2,total:5,pictureThumbPath:"",employeeId:1}],i=[{when:0,status:"approved"},{when:2,status:"pending"},{when:2,status:"canceled"},{when:5,status:"rejected"}],_=c({});b.forEach(t=>{_.value[t.id]={purchaseData:{color:t.color,count:t.count,employeeId:1,locationId:1,name:t.name,packageCustomerServiceId:t.id,pictureThumbPath:"",total:t.total}};let V={};i.forEach((n,O)=>{Object.keys(V).indexOf(se().add(n.when,"days").format("YYYY-MM-DD"))<0&&(V[se().add(n.when,"days").format("YYYY-MM-DD")]={},V[se().add(n.when,"days").format("YYYY-MM-DD")].date=se().add(n.when,"days").format("YYYY-MM-DD"),V[se().add(n.when,"days").format("YYYY-MM-DD")].appointments=[]);let N={id:O,bookingEnd:`${se().add(n.when,"days").format("YYYY-MM-DD")} 08:10:00`,bookingStart:`${se().add(n.when,"days").format("YYYY-MM-DD")} 08:00:00`,bookings:[{actionsCompleted:null,aggregatedPrice:!0,appointmentId:1,coupon:null,couponId:null,created:"2023-10-02 13:46:48",customFields:[{label:"Custom field 1",value:""},{label:"Custom field 2",value:""},{label:"Custom field 3",value:""}],customer:{birthday:null,countryPhoneIso:null,email:"testjanedoe@test.com",externalId:null,firstName:"Jane",gender:null,id:1,lastName:"Doe",note:null,phone:"",pictureFullPath:null,pictureThumbPath:null,status:"visible",translations:null,type:"customer",zoomUserId:null},customerId:1,duration:null,extras:[{aggregatedPrice:!1,customerBookingId:2443,description:"",duration:1800,extraId:1,id:1,maxQuantity:5,name:"Extra 1",position:1,price:10,quantity:2,serviceId:null,translations:null},{aggregatedPrice:!1,customerBookingId:2443,description:"",duration:1800,extraId:2,id:2,maxQuantity:5,name:"Extra 2",position:2,price:20,quantity:3,serviceId:null,translations:null},{aggregatedPrice:!1,customerBookingId:2443,description:"",duration:1800,extraId:3,id:3,maxQuantity:5,name:"Extra 3",position:3,price:15,quantity:1,serviceId:null,translations:null}],id:1,info:'{"firstName":"Jane","lastName":"Doe","phone":null,"locale":"en_US","timeZone":"Europe\\/Belgrade","urlParams":null}',isChangedStatus:null,isLastBooking:null,isUpdated:null,packageCustomerService:{bookingsCount:null,id:243,locationId:null,packageCustomer:{bookingsCount:null,coupon:null,couponId:null,customerId:null,end:null,id:null,packageId:null,payments:[],price:null,purchased:null,start:null,status:null},providerId:null,serviceId:null},payments:[],persons:1,price:0,status:n.status,ticketsData:[],token:null,utcOffset:null}],cancelable:!0,googleCalendarEventId:null,googleMeetUrl:"#",internalNotes:"",isFull:null,isGroup:!1,isRescheduled:null,lessonSpace:"#",location:"Location 1",locationId:1,notifyParticipants:1,outlookCalendarEventId:null,microsoftTeamsUrl:"#",appleCalendarEventId:null,parentId:null,past:!1,provider:{firstName:"John",lastName:"Doe"},providerId:1,reschedulable:!0,resources:[],service:{name:t.name},serviceId:O,status:n.status,type:"appointment",zoomMeeting:{joinUrl:"#"}};V[se().add(n.when,"days").format("YYYY-MM-DD")].appointments.push(N)}),_.value[t.id].appointments=V});let ce=Ae({components:{IconComponent:De},template:'<IconComponent icon="arrow-left"></IconComponent>'}),l=c(null);me(()=>{l.value=Object.keys(_.value)[0]});function o(t){l.value=t.paneName}function L(t,V,n){let O=0;return Object.keys(t).forEach(N=>{(V===null||parseInt(V)===parseInt(N))&&(O+=t[N].purchaseData[n])}),O}const{amCustomize:F}=Z();let T=d("pageRenderKey"),S=d("stepName"),g=d("subStepName"),q=d("langKey"),K=d("labels");function v(t){return k(()=>F.value[T.value][S.value].translations&&F.value[T.value][S.value].translations[t]&&F.value[T.value][S.value].translations[t][q.value]?F.value[T.value][S.value].translations[t][q.value]:K[t]).value}function H(t){return v(t===1?"appointment_booked":"appointments_booked")}let ee=k(()=>g.value==="bookAppointment"),R=k(()=>g.value==="cancelPackage"),G=d("amColors"),ne=k(()=>({"--am-c-cappa-text":G.value.colorMainText,"--am-c-cappa-text-op80":B(G.value.colorMainText,.8),"--am-c-cappa-text-op70":B(G.value.colorMainText,.7),"--am-c-cappa-text-op20":B(G.value.colorMainText,.2),"--am-c-cappa-primary":G.value.colorPrimary}));return(t,V)=>{const n=Ne,O=Me;return s(),f("div",{ref_key:"pageContainer",ref:w,class:"am-cap"},[a("div",{class:"am-cappa",style:X(e(ne))},[a("div",xa,[C(_e,{"custom-class":"am-cappa__back-btn",icon:e(ce),type:e(F)[e(T)][e(S)].options.backBtn.buttonType,size:"micro",category:"secondary","icon-only":""},null,8,["icon","type"]),a("span",null,p(v("back_btn")),1)]),a("div",{class:z(["am-cappa__heading",e(r)])},[a("div",Ca,[a("div",{class:"am-cappa__img",style:X({backgroundImage:`url(${e(Pe)(e(m),e(E),!1)})`})},[a("span",{style:X({backgroundColor:e(E).color})},null,4)],4),a("div",wa,[a("div",$a,p(e(E).name),1),a("div",Pa,p(v("package_book_expire"))+" "+p(e(Se)(e(se)().add(5,"days").format("YYYY-MM-DD"))),1),a("div",Ta,"6/15 "+p(H(6)),1)])]),a("div",{class:z(["am-cappa__heading-right",e(r)])},[C(_e,{category:"danger",size:"small",type:e(F)[e(T)][e(S)].options.cancelBtn.buttonType,class:z(["am-cappa__actions",e(r)])},{default:y(()=>[le(p(v("package_cancel")),1)]),_:1},8,["type","class"]),C(Xe,{"btn-size":"small",type:e(F)[e(T)][e(S)].options.payBtn.buttonType,class:z(`am-cappa__actions ${e(r)}`)},null,8,["type","class"])],2)],2),C(O,{modelValue:e(l),"onUpdate:modelValue":V[0]||(V[0]=N=>ve(l)?l.value=N:l=N),class:"am-cappa__service",onTabClick:o},{default:y(()=>[(s(!0),f(J,null,fe(Object.keys(e(_)),N=>(s(),Q(n,{key:N,name:N},{label:y(()=>[a("div",Da,p(e(_)[N].purchaseData.name),1)]),default:y(()=>[e(l)===N?(s(),f(J,{key:0},[a("div",{class:z(["am-cappa__service-top",e(r)])},[a("div",La,[a("div",{class:"am-cappa__service-img",style:X({backgroundImage:`url(${e(Pe)(e(m),e(_)[e(l)].purchaseData,!1)})`})},[a("span",{style:X({backgroundColor:e(_)[e(l)].purchaseData.color})},null,4)],4),a("div",Ia,[a("div",Na,p(e(_)[e(l)].purchaseData.name),1),L(e(_),e(l),"count")?(s(),f("div",Ma,p(L(e(_),e(l),"count"))+"/"+p(L(e(_),e(l),"total"))+" "+p(H(L(e(_),e(l),"count"))),1)):M("",!0)])]),C(_e,{class:z(["am-cappa__service-book",e(r)]),size:"small",type:e(F)[e(T)][e(S)].options.bookBtn.buttonType,disabled:L(e(_),e(l),"count")===0},{default:y(()=>[le(p(v("book_now")),1)]),_:1},8,["class","type","disabled"])],2),C(ta,{"grouped-appointments":e(_)[e(l)].appointments,"responsive-class":e(r),"page-width":e($),"is-package-booking":!0},null,8,["grouped-appointments","responsive-class","page-width"])],64)):M("",!0)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),e(ee)?(s(),Q(ea,{key:0,visibility:e(ee)},null,8,["visibility"])):M("",!0),e(R)?(s(),Q(aa,{key:1,visibility:e(R),"title-key":"cancel_package","content-key":"confirm_cancel_package"},null,8,["visibility"])):M("",!0)],4)],512)}}});const Fa={ref:"pageContainer",class:"am-cap"},Ya={class:"am-sc__top-menu"},Ba={class:"am-sc__top-left"},Ea={class:"am-sc__name"},Va={key:0,class:"am-sc__date"},ja={key:1,class:"am-sc__date"},Aa=["onClick"],Oa={class:"am-sc__edit"},Ra={class:"am-sc__edit-item"},Wa=a("span",{class:"am-icon-eye"},null,-1),qa={class:"am-sc__edit-text"},Ua={class:"am-sc__edit-item"},Ka=a("span",{class:"am-icon-download"},null,-1),Ja={class:"am-sc__edit-text"},Ha={class:"am-sc__capacity"},Qa=a("div",{class:"am-sc__btn"},[a("span",{class:"am-icon-arrow-right"})],-1),Ga={key:0,class:"am-sc__bottom"},Za={class:"am-sc__expiration"},Xa=a("span",{class:"am-icon-triangle-info"},null,-1),et={name:"CabinetPackagesList",key:"packagesList"},at=Object.assign(et,{props:{responsiveClass:{type:String,default:""}},setup(oe){d("licence");let m=d("features"),w=c({packages:{name:"packages",icon:"shipment",ids:[]},services:{name:"services",icon:"service",ids:[]},providers:{name:"providers",icon:"employee",ids:[]},locations:{name:"locations",icon:"locations",ids:[]}}),$=[{end:7,name:"Package 1",status:"approved"},{end:null,name:"Package 2",status:"approved"},{end:10,name:"Package 3",status:"approved"}],P=c({});const A=c([]);function W(g,q){g.stopPropagation(),A.value=A.value.map((K,v)=>v===q?!K:!1)}function r(g){A.value[g]=!1}$.forEach((g,q)=>{P.value[q]={packageData:{name:g.name,price:130,status:g.status,start:null,end:g.end?`${xe().add(g.end,"days").format("YYYY-MM-DD")} 10:00`:g.end,type:"package"},services:[{count:3,total:4},{count:1,total:5},{count:0,total:3},{count:1,total:3}]},A.value.push(!1)});function E(g){return xe(g,"YYYY-MM-DD").diff(xe(),"days")}function b(g,q,K){let v=0;return g.forEach(H=>{v+=H[K]}),v}const{amCustomize:i}=Z();let _=d("langKey"),ce=d("labels"),l=d("pageRenderKey"),o=d("stepName");function L(g){return k(()=>i.value[l.value][o.value].translations&&i.value[l.value][o.value].translations[g]&&i.value[l.value][o.value].translations[g][_.value]?i.value[l.value][o.value].translations[g][_.value]:ce[g]).value}function F(g){return L(g===1?"appointment_booked":"appointments_booked")}let T=d("amColors"),S=k(()=>({"--am-c-sc-bgr":T.value.colorMainBgr,"--am-c-sc-bgr-op15":B(T.value.colorMainText,.15),"--am-c-sc-text":T.value.colorMainText,"--am-c-sc-text-op80":B(T.value.colorMainText,.8),"--am-c-sc-warning-op50":B(T.value.colorWarning,.5),"--am-c-sc-text-op10":B(T.value.colorMainText,.1),"--am-c-sc-text-op15":B(T.value.colorMainText,.15)}));return(g,q)=>{const K=Oe;return s(),f("div",Fa,[C(sa,{"param-list":e(w),"responsive-class":oe.responsiveClass},null,8,["param-list","responsive-class"]),(s(!0),f(J,null,fe(Object.keys(e(P)),(v,H)=>(s(),f("div",{key:v,style:X(e(S)),class:"am-sc"},[a("div",{class:z(["am-sc__top",oe.responsiveClass])},[a("div",Ya,[a("div",Ba,[a("div",Ea,p(e(P)[v].packageData.name),1),e(P)[v].packageData.end?(s(),f("div",Va,p(`${L("package_book_expire")} ${e(Se)(e(P)[v].packageData.end.split(" ")[0])}`),1)):(s(),f("div",ja,p(`${L("package_book_expiration")} ${L("package_book_unlimited")}`),1))]),e(m).invoices?(s(),Q(K,{key:0,ref_for:!0,ref:"editRef",visible:A.value[H],persistent:!1,"show-arrow":!1,width:"auto","popper-class":"am-sc__popper","popper-style":e(S),trigger:"click",placement:"bottom-end"},{reference:y(()=>[a("span",{class:"am-cc__edit-btn am-icon-dots-vertical",onClick:ee=>W(ee,H)},null,8,Aa)]),default:y(()=>[Re((s(),f("div",Oa,[a("div",Ra,[Wa,a("span",qa,p(L("preview_invoice")),1)]),a("div",Ua,[Ka,a("span",Ja,p(L("download_invoice")),1)])])),[[e(We),()=>r(H)]])]),_:2},1032,["visible","popper-style"])):M("",!0)]),a("div",{class:z(["am-sc__top-right",oe.responsiveClass])},[a("div",Ha,p(`${b(e(P)[v].services,null,"count")}/${b(e(P)[v].services,null,"total")} ${F(b(e(P)[v].services,null,"count"))}`),1),Qa],2)],2),e(P)[v].packageData.end?(s(),f(J,{key:0},[E(e(P)[v].packageData.end.split(" ")[0])>0?(s(),f("div",Ga,[a("span",Za,[Xa,le(" "+p(`${L("package_deal_expire_in")} ${E(e(P)[v].packageData.end.split(" ")[0])} ${L("expires_days")}, ${L("appointments_deal_expire")}`),1)])])):M("",!0)],64)):M("",!0)],4))),128))],512)}}});const tt={class:"am-fs-sb__page-wrapper"},st={class:"am-fs-sb__page-icon"},lt=a("span",{class:"am-icon-arrow-big-right"},null,-1),ot=[lt],nt={key:0,class:"am-fs-sb__page-divider"},it={class:"am-fs-sb__page-inner"},rt=a("div",{class:"am-fs-sb__page-icon"},[a("span",{class:"am-icon-dashboard"})],-1),ct=a("div",{class:"am-fs-sb__page-divider"},null,-1),ut={class:"am-fs-sb__page"},pt={class:"am-fs-sb__page-inner"},dt=a("div",{class:"am-fs-sb__page-icon"},[a("span",{class:"am-icon-logout"})],-1),mt={class:"am-caph"},_t={class:"am-caph__text"},vt=a("span",{class:"am-icon-menu"},null,-1),ft=[vt],bt={name:"CustomerPanel"},wt=Object.assign(bt,{setup(oe){let m=d("settings"),w=Z().features;j("features",w);let $=Z().stepIndex;j("stepIndex",$);let P=Z().pagesType;j("pagesType",P);const A=d("labels");let W=Z().langKey;j("langKey",W);let r=Z().stepName;j("stepName",r);let E=Z().subStepName;j("subStepName",E);let b=c("capc");j("pageRenderKey",b);const{amCustomize:i}=Z();j("customize",i);let _=k(()=>i.value.fonts);j("amFonts",_);let ce=c("customer");j("cabinetType",ce);let l=te(la),o=te(oa),L=te(na),F=te(ia),T=c([l,o,L,F]),S=te(ka),g=te(ra),q=te(ca),K=te(at),v=te(za),H=c([S,g,q,K,v]),ee=k(()=>P.value==="auth"?T.value:H.value),R=c(null),G=c(!1);me(()=>{window.customizeComponentLoaded=!0,typeof window.stylesInjectedV3=="function"&&window.v3.componentToMount==="CustomizeCustomerPanel"&&(window.stylesInjectedV3=()=>{we().then(()=>{G.value=!0})})}),qe(()=>{window.customizeComponentLoaded=!1,window.stylesInjectedV3=async function(){}});let ne=c();j("containerWidth",ne);let t=c(!1);function V(){t.value=!1}let n=c(!1);j("sidebarCollapsed",Ue(n));let O=c("");Ce(()=>{n.value?setTimeout(()=>{O.value="am-collapsed"},1e3):O.value=""});let N=k(()=>i.value.capc.sidebar.options.toggle.visibility);Ce(()=>{n.value=N.value});let ue=c(null),be=c(0),x=c(!0);me(()=>{ue.value&&setTimeout(()=>{be.value=ue.value.offsetHeight},200),R.value&&(ne.value=R.value.offsetWidth,n.value=N.value?N.value:R.value.offsetWidth<=600,x.value=R.value.offsetWidth>480)}),window.addEventListener("resize",ae);function ae(){R.value&&(ne.value=R.value.offsetWidth,n.value=N.value?N.value:R.value.offsetWidth<=600,x.value=R.value.offsetWidth>480,t.value=R.value.offsetWidth>481?!1:t.value)}const pe=d("baseUrls"),U=k(()=>{let h=[{key:"profile",icon:"user",pageLabel:re("my_profile","profile"),label:i.value.capc.profile.options.lastName.visibility?"John Doe":"John"},{key:"appointments",icon:"service",label:re("appointments","appointments")},{key:"events",icon:"star-outline",label:re("events","events")},{key:"packages",icon:"shipment",label:re("packages","packagesList")}];return w.value.packages||(h=h.filter(I=>I.key!=="packages")),h});j("sidebarSteps",U);let ke=c(0);me(()=>{ke.value=U.value.findIndex(h=>h.key===r.value)}),Ce(()=>{i.value.fonts.customFontSelected?Y():ie()});function Y(){let h=document.head||document.getElementsByTagName("head")[0];h.querySelector("#amCustomFont")&&h.querySelector("#amCustomFont").remove(),h.querySelector("#amDefaultFontImport")&&h.querySelector("#amDefaultFontImport").remove();let I=`@font-face {font-family: '${i.value.fonts.fontFamily}'; src: url(${i.value.fonts.fontUrl});}`,D=document.createElement("style");h.appendChild(D),D.setAttribute("type","text/css"),D.setAttribute("id","amCustomFont"),D.appendChild(document.createTextNode(I))}function ie(){const h=document.head||document.getElementsByTagName("head")[0];if(h.querySelector("#amDefaultFontImport"))return;const I=pe.value.wpAmeliaPluginURL,D=document.createElement("style");D.setAttribute("type","text/css"),D.setAttribute("id","amDefaultFontImport"),D.textContent=`@import url("${I}v3/src/assets/scss/common/fonts/font.css");`,h.appendChild(D)}Te(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})});function re(h,I){return k(()=>i.value[b.value][I].translations&&i.value[b.value][I].translations[h]&&i.value[b.value][I].translations[h][W.value]?i.value[b.value][I].translations[h][W.value]:A[h]).value}function ze(h){let I={},D=h?i.value[b.value][h].translations:null;return D&&Object.keys(D)?Object.keys(i.value[b.value][h].translations).forEach(ge=>{I[ge]=i.value[b.value][h].translations[ge][W.value]}):I={},I}let Fe=k(()=>r.value==="packageAppointmentsList"?i.value[b.value].packagesList.options:i.value[b.value][r.value].options);Te(()=>{});let u=k(()=>i.value[b.value]?i.value[b.value].colors:He[b.value].colors);j("amColors",u);let Ye=k(()=>({"--am-c-primary":u.value.colorPrimary,"--am-c-success":u.value.colorSuccess,"--am-c-error":u.value.colorError,"--am-c-warning":u.value.colorWarning,"--am-c-main-bgr":u.value.colorMainBgr,"--am-c-main-heading-text":u.value.colorMainHeadingText,"--am-c-main-text":u.value.colorMainText,"--am-c-main-text-op10":B(u.value.colorMainText,.1),"--am-c-sb-bgr":u.value.colorSbBgr,"--am-c-sb-text":u.value.colorSbText,"--am-c-inp-bgr":u.value.colorInpBgr,"--am-c-inp-border":u.value.colorInpBorder,"--am-c-inp-text":u.value.colorInpText,"--am-c-inp-placeholder":u.value.colorInpPlaceHolder,"--am-c-drop-bgr":u.value.colorDropBgr,"--am-c-drop-text":u.value.colorDropText,"--am-c-btn-prim":u.value.colorBtnPrim,"--am-c-btn-prim-text":u.value.colorBtnPrimText,"--am-c-btn-sec":u.value.colorBtnSec,"--am-c-btn-sec-text":u.value.colorBtnSecText,"--am-c-skeleton-op20":B(u.value.colorMainText,.2),"--am-c-skeleton-op60":B(u.value.colorMainText,.6),"--am-c-skeleton-sb-op20":B(u.value.colorSbText,.2),"--am-c-skeleton-sb-op60":B(u.value.colorSbText,.6),"--am-font-family":_.value.fontFamily,"--am-rad-inp":"6px","--am-fs-inp":"15px","--am-mw-main":x.value?n.value?"858px":"1024px":"520px","--am-brad-main":x.value?"0 0.5rem 0.5rem 0":"0.5rem"})),Be=k(()=>({"--am-c-msd-bgr":u.value.colorSbBgr,"--am-c-msd-text":u.value.colorSbText,"--am-c-msd-text-op05":B(u.value.colorSbText,.05),"--am-c-msd-text-op10":B(u.value.colorSbText,.1),"--am-c-msd-text-op60":B(u.value.colorSbText,.6)}));return(h,I)=>e(G)?(s(),f("div",{key:0,id:"amelia-container",ref_key:"ameliaContainer",ref:R,class:z(["am-cap__wrapper",[{"am-collapsed":e(n)},{"am-auth":e(P)==="auth"}]]),style:X(e(Ye))},[e(P)==="auth"?(s(),Q(he(e(ee)[e($)]),{key:0})):M("",!0),e(P)==="panel"?(s(),f(J,{key:1},[e(x)?(s(),Q(Ke,{key:0,class:z(["am-fs-sb",{"am-collapsed":e(n)}]),style:X({width:e(n)?"72px":"240px",paddingBottom:`${e(be)+16}px`})},{"step-list":y(()=>[a("div",tt,[(s(!0),f(J,null,fe(e(U),(D,ge)=>(s(),f(J,{key:D.key},[a("div",{class:z(["am-fs-sb__page",[{selected:e(r)===D.key},{selected:(e(r)==="packagesList"||e(r)==="packageAppointmentsList")&&D.key==="packages"}]])},[a("div",{class:z(["am-fs-sb__page-inner",{"am-collapsed":e(n)}])},[a("div",st,[a("span",{class:z(`am-icon-${D.icon}`)},null,2)]),C(ye,{name:"fade"},{default:y(()=>[e(n)?M("",!0):(s(),f("p",{key:0,class:z(["am-fs-sb__page-heading",e(O)])},p(D.label),3))]),_:2},1024),C(ye,{name:"fade"},{default:y(()=>[e(n)?M("",!0):(s(),f("div",{key:0,class:z(["am-fs-sb__page-indicator",e(O)])},ot,2))]),_:1})],2)],2),ge===0?(s(),f("div",nt)):M("",!0)],64))),128))])]),"support-info":y(()=>[a("div",{ref_key:"sidebarFooterRef",ref:ue,class:"am-fs-sb__footer"},[a("div",{class:"am-fs-sb__page",onClick:I[0]||(I[0]=D=>ve(n)?n.value=!e(n):n=!e(n))},[a("div",it,[rt,C(ye,{name:"fade"},{default:y(()=>[e(n)?M("",!0):(s(),f("p",{key:0,class:z(["am-fs-sb__page-heading",e(O)])},p(re("toggle_sidebar","sidebar")),3))]),_:1})])]),ct,a("div",ut,[a("div",pt,[dt,C(ye,{name:"fade"},{default:y(()=>[e(n)?M("",!0):(s(),f("p",{key:0,class:z(["am-fs-sb__page-heading",e(O)])},p(re("log_out","sidebar")),3))]),_:1})])])],512)]),_:1},8,["class","style"])):M("",!0),C(Je,{"max-width":786,"old-responsive":!1},{header:y(()=>[C(Ge,null,{default:y(()=>[a("div",mt,[a("div",_t,[e($)===4?(s(),f(J,{key:0},[le(p(e(U)[3].label),1)],64)):e(U)[e($)].key==="profile"?(s(),f(J,{key:1},[le(p(e(U)[e($)].pageLabel),1)],64)):(s(),f(J,{key:2},[le(p(e(U)[e($)].label),1)],64))]),e(x)?M("",!0):(s(),f("div",{key:0,class:"am-cap__menu",onClick:I[1]||(I[1]=()=>ve(t)?t.value=!e(t):t=!e(t))},ft)),e(m).featuresIntegrations.timezones.enabled&&e(x)&&e(r)!=="profile"&&e(Fe).timeZone.visibility?(s(),Q(ua,{key:1})):M("",!0),C(Ze,{"menu-items":e(U),monitor:e(r),visibility:e(t),"custom-css":e(Be),width:240,"customized-labels":ze("sidebar"),position:"right","onUpdate:visibility":I[2]||(I[2]=D=>ve(t)?t.value=D:t=D),onLogout:V},null,8,["menu-items","monitor","visibility","custom-css","customized-labels"])])]),_:1})]),step:y(()=>[(s(),Q(he(e(ee)[e($)]),{class:"am-fs__main-content"}))]),_:1})],64)):M("",!0)],6)):M("",!0)}});export{wt as default};
